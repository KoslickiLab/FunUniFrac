
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>CLI documentation for scripts &#8212; FunUniFrac 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="API documentation for LP_EMD_helper" href="LP_EMD_helper.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="LP_EMD_helper.html" title="API documentation for LP_EMD_helper"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FunUniFrac 0.0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CLI documentation for scripts</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="cli-documentation-for-scripts">
<h1>CLI documentation for scripts<a class="headerlink" href="#cli-documentation-for-scripts" title="Permalink to this heading">¶</a></h1>
<p>This document contains the help documentation for the command line interface tools.</p>
<section id="create-edge-lengths-py">
<h2>create_edge_lengths.py<a class="headerlink" href="#create-edge-lengths-py" title="Permalink to this heading">¶</a></h2>
<p><p>This will take the matrix made by graph_to_path_matrix.py and the all pairwise distance matrix and solve the least squares problem of inferring the edge lengths of the graph.</p>
</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">create_edge_lengths</span><span class="o">.</span><span class="n">py</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">-</span><span class="n">e</span> <span class="n">EDGE_LIST</span> <span class="o">-</span><span class="n">d</span>
                              <span class="n">DISTANCES</span> <span class="o">-</span><span class="n">o</span>
                              <span class="n">OUT_FILE</span> <span class="o">-</span><span class="n">A</span> <span class="n">A_MATRIX</span>
                              <span class="o">-</span><span class="n">b</span> <span class="n">BRITE_ID</span>
                              <span class="p">[</span><span class="o">-</span><span class="n">n</span> <span class="n">NUM_ITER</span><span class="p">]</span>
                              <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">FACTOR</span><span class="p">]</span>
                              <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="n">REG_FACTOR</span><span class="p">]</span>
                              <span class="p">[</span><span class="o">--</span><span class="n">force</span><span class="p">]</span>
                              <span class="p">[</span><span class="o">--</span><span class="n">distance</span><span class="p">]</span>
</pre></div>
</div>
<section id="Named Arguments">
<h3>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>-e, --edge_list</kbd></dt>
<dd><p>Input edge list file of the KEGG hierarchy</p>
</dd>
<dt><kbd>-d, --distances</kbd></dt>
<dd><p>File containing all pairwise distances between KOs. Use sourmash compare</p>
</dd>
<dt><kbd>-o, --out_file</kbd></dt>
<dd><p>Output file name: edge list with lengths in the last column</p>
</dd>
<dt><kbd>-A, --A_matrix</kbd></dt>
<dd><p>A matrix file created by graph_to_path_matrix.py</p>
</dd>
<dt><kbd>-b, --brite_id</kbd></dt>
<dd><p>Brite ID of the KEGG hierarchy you want to focus on. Eg. ko00001</p>
</dd>
<dt><kbd>-n, --num_iter</kbd></dt>
<dd><p>Number of random selections on which to perform the NNLS</p>
<p>Default: 100</p>
</dd>
<dt><kbd>-f, --factor</kbd></dt>
<dd><p>Selects &lt;–factor&gt;*(A.shape[1]) rows for which to do the NNLS</p>
<p>Default: 5</p>
</dd>
<dt><kbd>-r, --reg_factor</kbd></dt>
<dd><p>Regularization factor for the NNLS</p>
<p>Default: 1</p>
</dd>
<dt><kbd>--force</kbd></dt>
<dd><p>Overwrite the output file if it exists</p>
<p>Default: False</p>
</dd>
<dt><kbd>--distance</kbd></dt>
<dd><p>Flag indicating that the input matrix is a distance (0=identical). If not, it is assumed to be a similarity (1=identical).</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="edge-list-to-lp-emd-input-py">
<h2>edge_list_to_LP_EMD_input.py<a class="headerlink" href="#edge-list-to-lp-emd-input-py" title="Permalink to this heading">¶</a></h2>
<p><p>Given an edge list file, convert it into a sparse matrix to be usedas an input for LP_EMD.py</p>
</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">edge_list_to_LP_EMD_input</span><span class="o">.</span><span class="n">py</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">-</span><span class="n">e</span>
                                    <span class="n">EDGE_LIST</span> <span class="o">-</span><span class="n">o</span>
                                    <span class="n">OUT_DIR</span>
                                    <span class="p">[</span><span class="o">--</span><span class="n">force</span><span class="p">]</span>
</pre></div>
</div>
<section id="Named Arguments">
<h3>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>-e, --edge_list</kbd></dt>
<dd><p>Input edge list file of the KEGG hierarchy</p>
</dd>
<dt><kbd>-o, --out_dir</kbd></dt>
<dd><p>Output directory</p>
</dd>
<dt><kbd>--force</kbd></dt>
<dd><p>Overwrite the output file if it exists</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="graph-to-path-matrix-py">
<h2>graph_to_path_matrix.py<a class="headerlink" href="#graph-to-path-matrix-py" title="Permalink to this heading">¶</a></h2>
<p><p>Given the KEGG hierarchy, first this will select the subtree consisting of all the ancestors of the given brite_id. Then, it will create a matrix where the (i,j) entry will be 1 iff for the ith pair of KOs in the –distances file: (KO1, KO2), edge j is on the shortest path from KO1 to KO2</p>
</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">graph_to_path_matrix</span><span class="o">.</span><span class="n">py</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">-</span><span class="n">e</span> <span class="n">EDGE_LIST</span>
                               <span class="o">-</span><span class="n">d</span> <span class="n">DISTANCES</span> <span class="o">-</span><span class="n">o</span>
                               <span class="n">OUT_DIR</span> <span class="o">-</span><span class="n">b</span> <span class="n">BRITE_ID</span>
</pre></div>
</div>
<section id="Named Arguments">
<h3>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>-e, --edge_list</kbd></dt>
<dd><p>Input edge list file of the KEGG hierarchy</p>
</dd>
<dt><kbd>-d, --distances</kbd></dt>
<dd><p>File containing all pairwise distances between KOs. Use sourmash compare</p>
</dd>
<dt><kbd>-o, --out_dir</kbd></dt>
<dd><p>Output directory</p>
</dd>
<dt><kbd>-b, --brite_id</kbd></dt>
<dd><p>Brite ID of the KEGG hierarchy you want to focus on. Eg. ko00001</p>
</dd>
</dl>
</section>
</section>
<section id="make-all-pw-fununifrac-py">
<h2>make_all_pw_fununifrac.py<a class="headerlink" href="#make-all-pw-fununifrac-py" title="Permalink to this heading">¶</a></h2>
<p><p>This script will take a directory of sourmash gather results and a weighted edge list representing the KEGG hierarchy and compute all pairwise functional unifrac distances.</p>
</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">make_all_pw_fununifrac</span><span class="o">.</span><span class="n">py</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">-</span><span class="n">e</span> <span class="n">EDGE_LIST</span>
                                 <span class="o">-</span><span class="n">d</span> <span class="n">DIRECTORY</span> <span class="o">-</span><span class="n">o</span>
                                 <span class="n">OUT_FILE</span>
                                 <span class="p">[</span><span class="o">-</span><span class="n">fp</span> <span class="n">FILE_PATTERN</span><span class="p">]</span>
                                 <span class="p">[</span><span class="o">-</span><span class="n">f</span><span class="p">]</span>
                                 <span class="p">[</span><span class="o">-</span><span class="n">a</span> <span class="n">ABUNDANCE_KEY</span><span class="p">]</span>
                                 <span class="p">[</span><span class="o">-</span><span class="n">t</span> <span class="n">THREADS</span><span class="p">]</span>
</pre></div>
</div>
<section id="Named Arguments">
<h3>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>-e, --edge_list</kbd></dt>
<dd><p>Input edge list file of the KEGG hierarchy. Must have lengths in the third column.</p>
</dd>
<dt><kbd>-d, --directory</kbd></dt>
<dd><p>Directory containing sourmash gather results.</p>
</dd>
<dt><kbd>-o, --out_file</kbd></dt>
<dd><p>Output file name: will be a numpy array.</p>
</dd>
<dt><kbd>-fp, --file_pattern</kbd></dt>
<dd><p>Pattern to match files in the directory. Default is ‘<a href="#id1"><span class="problematic" id="id2">*</span></a>_gather.csv’</p>
<p>Default: “<a href="#id1"><span class="problematic" id="id2">*</span></a>_gather.csv”</p>
</dd>
<dt><kbd>-f, --force</kbd></dt>
<dd><p>Overwrite the output file if it exists</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --abundance_key</kbd></dt>
<dd><p>Key in the gather results to use for abundance. Default is <cite>median_abund</cite></p>
<p>Default: “median_abund”</p>
</dd>
<dt><kbd>-t, --threads</kbd></dt>
<dd><p>Number of threads to use. Default is half the cores available.</p>
<p>Default: 5</p>
</dd>
</dl>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">CLI documentation for scripts</a><ul>
<li><a class="reference internal" href="#create-edge-lengths-py">create_edge_lengths.py</a><ul>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#edge-list-to-lp-emd-input-py">edge_list_to_LP_EMD_input.py</a><ul>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#graph-to-path-matrix-py">graph_to_path_matrix.py</a><ul>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#make-all-pw-fununifrac-py">make_all_pw_fununifrac.py</a><ul>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="LP_EMD_helper.html"
                          title="previous chapter">API documentation for LP_EMD_helper</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/scripts.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="LP_EMD_helper.html" title="API documentation for LP_EMD_helper"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FunUniFrac 0.0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CLI documentation for scripts</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Koslicki Lab.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.2.3.
    </div>
  </body>
</html>